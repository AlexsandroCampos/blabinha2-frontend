<!-- Backdrop -->
<div
  class="fixed inset-0 bg-primary/75 backdrop-blur-xs transition-opacity duration-300 ease-out z-10"
  [class.opacity-100]="modalOpen"
  [class.opacity-0]="!modalOpen"
  [class.pointer-events-auto]="modalOpen"
  [class.pointer-events-none]="!modalOpen">
</div>

<!-- Modal wrapper -->
<div
  class="fixed inset-0 z-10 w-screen overflow-y-auto transition-opacity duration-300 ease-out"
  [class.opacity-100]="modalOpen"
  [class.opacity-0]="!modalOpen"
  [class.pointer-events-auto]="modalOpen"
  [class.pointer-events-none]="!modalOpen">
  
  <div class="flex min-h-full justify-center p-3 text-center items-center sm:p-0">
    <!-- Corpo do modal -->
    <div *ngIf="currentStep === 0"
      class="relative transform overflow-hidden rounded-xl bg-base-100 text-left shadow-xl transition-all duration-300 ease-out w-full min-w-70
      sm:max-w-lg flex flex-col items-center max-h-lg min-h-[30rem] h-130"
      [class.opacity-100]="modalOpen"
      [class.opacity-0]="!modalOpen"
      [class.translate-y-0]="modalOpen"
      [class.translate-y-4]="!modalOpen"
      [class.sm\\:scale-100]="modalOpen"
      [class.sm\\:scale-95]="!modalOpen">
      
      <!-- Conteúdo -->
      <div class="px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
        <h2 class="text-lg sm:text-2xl">Selecione um avatar</h2>
        <p class="text-center text-xs text-base-content/60 font-light">Ele será sua foto de perfil</p>
      </div>

      <div class="flex flex-col w-[70%] sm:my-3">
        <div class="flex justify-between mb-5">
          <label class="cursor-pointer">
            <input
              type="radio"
              name="option"
              class="peer hidden"
              value="1"
              [(ngModel)]="selectedAvatar"
            />
            <div
              class="p-4 rounded-xl bg-secondary peer-checked:border-primary peer-checked:bg-primary peer-checked:[&>svg]:fill-primary-content transition-all"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="h-15 w-15 fill-primary" viewBox="0 0 60 60" fill="none">
                <path d="M5 27.5L10.125 27.75C10.4279 25.0136 11.2953 22.3699 12.6723 19.9859C14.0493 17.6019 15.906 15.5296 18.125 13.9L15.325 9.6C14.65 8.4 15 6.875 16.25 6.175C17.5 5.5 18.975 5.9 19.675 7.1L22 11.65C24.5271 10.5632 27.2491 10.0028 30 10.0028C32.7509 10.0028 35.4729 10.5632 38 11.65L40.325 7.1C41.025 5.9 42.5 5.5 43.75 6.175C45 6.875 45.35 8.4 44.675 9.6L41.875 13.9C44.094 15.5296 45.9507 17.6019 47.3277 19.9859C48.7047 22.3699 49.5721 25.0136 49.875 27.75L55 27.5C55.663 27.5 56.2989 27.7634 56.7678 28.2322C57.2366 28.7011 57.5 29.337 57.5 30C57.5 30.663 57.2366 31.2989 56.7678 31.7678C56.2989 32.2366 55.663 32.5 55 32.5L49.875 32.25C49.5721 34.9864 48.7047 37.6301 47.3277 40.0141C45.9507 42.3981 44.094 44.4704 41.875 46.1L44.675 50.4C45.35 51.6 45 53.125 43.75 53.825C42.5 54.5 41.025 54.1 40.325 52.9L38 48.35C35.4729 49.4368 32.7509 49.9972 30 49.9972C27.2491 49.9972 24.5271 49.4368 22 48.35L19.675 52.9C18.975 54.1 17.5 54.5 16.25 53.825C15 53.125 14.65 51.6 15.325 50.4L18.125 46.1C15.906 44.4704 14.0493 42.3981 12.6723 40.0141C11.2953 37.6301 10.4279 34.9864 10.125 32.25L5 32.5C4.33696 32.5 3.70107 32.2366 3.23223 31.7678C2.76339 31.2989 2.5 30.663 2.5 30C2.5 29.337 2.76339 28.7011 3.23223 28.2322C3.70107 27.7634 4.33696 27.5 5 27.5ZM22.675 28.375C23 26.85 23.825 25.5 25 24.475L20.85 18.125C17.7149 20.5336 15.6574 24.0825 15.125 28L22.675 28.375ZM30 22.5C30.8 22.5 31.55 22.625 32.25 22.85L35.7 16.125C33.95 15.4 32.025 15 30 15C27.975 15 26.05 15.4 24.3 16.125L27.75 22.85C28.45 22.625 29.2 22.5 30 22.5ZM37.325 28.375L44.875 28C44.3426 24.0825 42.2851 20.5336 39.15 18.125L35 24.475C36.175 25.5 37 26.85 37.325 28.375ZM37.325 31.625C37 33.15 36.175 34.5 35 35.525L39.15 41.875C42.2851 39.4664 44.3426 35.9175 44.875 32L37.325 31.625ZM30 37.5C29.2 37.5 28.45 37.375 27.725 37.15L24.3 43.875C26.05 44.6 27.975 45 30 45C32.025 45 33.95 44.6 35.7 43.875L32.275 37.15C31.55 37.375 30.8 37.5 30 37.5ZM22.675 31.625L15.125 32C15.675 36 17.775 39.525 20.85 41.875L25 35.525C23.825 34.5 23 33.15 22.675 31.625Z"/>
              </svg>
            </div>
          </label>
        
          <label class="cursor-pointer">
            <input
              type="radio"
              name="option"
              class="peer hidden"
              value="2"
              [(ngModel)]="selectedAvatar"
            />
            <div
              class="p-4 rounded-xl bg-secondary peer-checked:border-primary peer-checked:bg-primary peer-checked:[&>svg]:fill-primary-content transition-all"
            >
            <svg xmlns="http://www.w3.org/2000/svg" class="w-15 h-15 fill-primary" viewBox="0 0 60 60" fill="none">
              <path d="M30 5C28.0109 5 26.1032 5.79018 24.6967 7.1967C23.2902 8.60322 22.5 10.5109 22.5 12.5C22.4992 14.0516 22.9796 15.5653 23.8751 16.8325C24.7706 18.0996 26.0371 19.0578 27.5 19.575V22.5H20V27.5H27.5V49.8C25.65 49.475 23.75 48.95 21.975 48.175C20.125 47.375 18.5 46.4 17.05 45.225C15.6 44.05 14.45 42.775 13.6 41.375L17.5 37.5L7.5 30V37.5C7.5 39.925 8.175 42.2 9.55 44.3C10.9933 46.4899 12.8434 48.3824 15 49.875C17.175 51.475 19.6 52.725 22.2 53.625C24.825 54.525 27.425 55 30 55C32.575 55 35.175 54.5 37.8 53.6C40.4 52.7 42.825 51.45 45 49.875C47.3 48.275 49.075 46.425 50.45 44.3C51.825 42.2 52.5 39.925 52.5 37.5V30L42.5 37.5L46.4 41.375C45.55 42.775 44.4 44.05 42.95 45.225C41.5 46.4 39.875 47.375 38.025 48.175C36.25 48.95 34.35 49.475 32.5 49.8V27.5H40V22.5H32.5V19.55C33.9589 19.0342 35.2225 18.0798 36.1177 16.8177C37.0128 15.5555 37.4957 14.0474 37.5 12.5C37.5 10.5109 36.7098 8.60322 35.3033 7.1967C33.8968 5.79018 31.9891 5 30 5ZM30 10C30.663 10 31.2989 10.2634 31.7678 10.7322C32.2366 11.2011 32.5 11.837 32.5 12.5C32.5 13.163 32.2366 13.7989 31.7678 14.2678C31.2989 14.7366 30.663 15 30 15C29.337 15 28.7011 14.7366 28.2322 14.2678C27.7634 13.7989 27.5 13.163 27.5 12.5C27.5 11.837 27.7634 11.2011 28.2322 10.7322C28.7011 10.2634 29.337 10 30 10Z"/>
            </svg>
            </div>
          </label>
        </div>

        <div class="flex justify-between mb-5">
          <label class="cursor-pointer">
            <input
              type="radio"
              name="option"
              class="peer hidden"
              value="3"
              [(ngModel)]="selectedAvatar"
            />
            <div
              class="p-4 rounded-xl bg-secondary peer-checked:border-primary peer-checked:bg-primary peer-checked:[&>svg]:fill-primary-content transition-all"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="w-15 h-15 fill-primary" viewBox="0 0 60 60" fill="none">
                <path d="M48.7501 36.25C48.4119 36.2088 48.0688 36.2451 47.7467 36.3562C47.4247 36.4673 47.1321 36.6502 46.8912 36.8911C46.6503 37.132 46.4674 37.4245 46.3563 37.7466C46.2452 38.0687 46.2089 38.4118 46.2501 38.75C46.2501 40.425 43.7501 40.425 43.7501 38.75V33L48.0001 31.75C49.8001 30.9 51.0251 29.2 51.2501 27.25C51.2501 13.75 41.7501 5 30.0001 5C18.2501 5 8.75012 13.75 8.75012 27.25C8.90012 29.25 10.1501 31 12.0001 31.75L16.2501 33V38.75C16.2501 39.0815 16.1184 39.3995 15.884 39.6339C15.6496 39.8683 15.3316 40 15.0001 40C14.6686 40 14.3507 39.8683 14.1162 39.6339C13.8818 39.3995 13.7501 39.0815 13.7501 38.75C13.7913 38.4118 13.755 38.0687 13.6439 37.7466C13.5329 37.4245 13.3499 37.132 13.109 36.8911C12.8681 36.6502 12.5756 36.4673 12.2535 36.3562C11.9314 36.2451 11.5883 36.2088 11.2501 36.25C10.9119 36.2088 10.5688 36.2451 10.2467 36.3562C9.92466 36.4673 9.63209 36.6502 9.39119 36.8911C9.15029 37.132 8.96737 37.4245 8.8563 37.7466C8.74523 38.0687 8.70892 38.4118 8.75012 38.75C8.71244 39.5808 8.84832 40.4103 9.14908 41.1856C9.44984 41.961 9.90888 42.6651 10.4969 43.2532C11.085 43.8412 11.7891 44.3003 12.5645 44.601C13.3398 44.9018 14.1693 45.0377 15.0001 45C18.5251 45.15 21.4001 42.275 21.2501 38.75V34.25H23.7501V48.5C23.7501 50.175 21.2501 50.175 21.2501 48.5C21.2913 48.1618 21.255 47.8187 21.1439 47.4966C21.0329 47.1745 20.8499 46.882 20.609 46.6411C20.3681 46.4002 20.0756 46.2173 19.7535 46.1062C19.4314 45.9951 19.0883 45.9588 18.7501 46C18.4119 45.9588 18.0688 45.9951 17.7467 46.1062C17.4247 46.2173 17.1321 46.4002 16.8912 46.6411C16.6503 46.882 16.4674 47.1745 16.3563 47.4966C16.2452 47.8187 16.2089 48.1618 16.2501 48.5C16.1781 49.3504 16.2884 50.2064 16.5735 51.0108C16.8587 51.8153 17.3122 52.5496 17.9037 53.1648C18.4953 53.78 19.2113 54.2619 20.0039 54.5784C20.7965 54.8949 21.6475 55.0386 22.5001 55C26.0251 55.15 28.9001 52.275 28.7501 48.75V35H31.2501V48.75C31.2124 49.5808 31.3483 50.4103 31.6491 51.1856C31.9498 51.961 32.4089 52.6651 32.9969 53.2532C33.585 53.8412 34.2891 54.3003 35.0645 54.601C35.8398 54.9018 36.6693 55.0377 37.5001 55C41.0251 55.15 43.9001 52.275 43.7501 48.75C43.7501 45.425 38.7501 45.425 38.7501 48.75C38.7501 50.425 36.2501 50.425 36.2501 48.75V34.5H38.7501V39C38.7501 42.4 41.5751 45.15 45.0001 45C48.5251 45.15 51.4001 42.275 51.2501 38.75C51.2913 38.4118 51.255 38.0687 51.1439 37.7466C51.0329 37.4245 50.8499 37.132 50.609 36.8911C50.3681 36.6502 50.0756 36.4673 49.7535 36.3562C49.4314 36.2451 49.0883 36.2088 48.7501 36.25ZM26.5001 11.75C24.6344 12.1583 22.8726 12.9461 21.3243 14.0643C19.776 15.1825 18.4743 16.6073 17.5001 18.25C17.0751 18.75 16.2501 18.925 15.7501 18.5C15.4887 18.2983 15.3164 18.0026 15.2697 17.6758C15.223 17.349 15.3057 17.0168 15.5001 16.75C17.8981 12.9858 21.6617 10.2975 26.0001 9.25C26.6751 9.2 27.2751 9.625 27.5001 10.25C27.6501 10.925 27.2001 11.625 26.5001 11.75Z" />
              </svg>
            </div>
          </label>
        
          <label class="cursor-pointer">
            <input
              type="radio"
              name="option"
              class="peer hidden"
              value="4"
              [(ngModel)]="selectedAvatar"
            />
            <div
              class="p-4 rounded-xl bg-secondary peer-checked:border-primary peer-checked:bg-primary peer-checked:[&>svg]:fill-primary-content transition-all"
            >
            <svg xmlns="http://www.w3.org/2000/svg" class="w-15 h-15 fill-primary" viewBox="0 0 60 60" fill="none">
              <path d="M55 40V45H50C46.5 45 43 44 40 42.5C33.75 45.75 26.25 45.75 20 42.5C17 44 13.5 45 10 45H5V40H10C13.5 40 17 38.75 20 36.75C26 41 34 41 40 36.75C43 38.75 46.5 40 50 40H55ZM13.2 34.475C14.55 34.075 15.925 33.45 17.225 32.6L20.075 30.675L22.9 32.675C25 34.15 27.5 35 30 35C32.5 35 35 34.15 37.1 32.675L39.925 30.675L42.775 32.6C44.825 33.975 47.075 34.75 49.175 34.925C45.6 18.5 30.925 5 15 5C14.125 5 13.325 5.45 12.875 6.175C12.425 6.925 12.375 7.85 12.775 8.625C18.2 19.475 16.525 28.225 13.2 34.475ZM40 46.75C34 51 26 51 20 46.75C17 48.75 13.5 50 10 50H5V55H10C13.5 55 17 54 20 52.5C26.25 55.75 33.75 55.75 40 52.5C43 54 46.5 55 50 55H55V50H50C46.5 50 43 48.75 40 46.75Z"/>
            </svg>
            </div>
          </label>
        </div>

        <div class="flex justify-between">
          <label class="cursor-pointer">
            <input
              type="radio"
              name="option"
              class="peer hidden"
              value="5"
              [(ngModel)]="selectedAvatar"
            />
            <div
              class="p-4 rounded-xl bg-secondary peer-checked:border-primary peer-checked:bg-primary peer-checked:[&>svg]:fill-primary-content transition-all"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="w-15 h-15 fill-primary" viewBox="0 0 60 60" fill="none">
                <path d="M21.175 14.875C22.375 14.175 23.675 13.6 25 13.2V9.99999C25 7.24999 27.175 4.99999 29.925 4.92499C32.825 4.99999 35 7.24999 35 9.99999V13.2C36.325 13.625 37.625 14.175 38.825 14.875L34.825 20.175H25.175L21.175 14.875ZM47.5 30C47.5 31.25 47.375 32.375 47.15 33.5L40.825 31.55L37.85 22.4L41.85 17.125C42.925 18.125 43.875 19.25 44.7 20.5C46.675 20.325 48.575 20.625 50.275 21.475C52.85 22.8 54.6 25.325 55 28.2L47.5 29.1V30ZM12.5 30V29.125L5 28.2C5.4 25.325 7.15 22.8 9.725 21.475C11.4148 20.6215 13.3337 20.3323 15.2 20.65C16.025 19.375 16.975 18.2 18.1 17.175L22.15 22.375L19.175 31.55L12.85 33.5C12.625 32.375 12.5 31.25 12.5 30ZM25.6 23.925H34.4L37.125 32.325L30 37.5L22.875 32.325L25.6 23.925ZM20.325 35.125L28.125 40.775V47.4C26.7 47.25 25.325 46.925 24.05 46.45L20.975 53.35C19.6696 52.7704 18.5265 51.8791 17.646 50.7545C16.7655 49.6299 16.1745 48.3063 15.925 46.9C15.575 45 15.875 43.1 16.725 41.4C15.6 40.1 14.675 38.65 13.975 37.05L20.325 35.125ZM39.675 35.125L46.025 37.05C45.325 38.65 44.4 40.1 43.275 41.4C44.125 43.1 44.425 45 44.1 46.9C43.8418 48.3065 43.2448 49.629 42.3605 50.7529C41.4762 51.8767 40.3313 52.7682 39.025 53.35L35.975 46.45C34.65 46.925 33.325 47.35 31.875 47.5V40.775L39.675 35.125Z"/>
              </svg>
            </div>
          </label>
        
          <label class="cursor-pointer">
            <input
              type="radio"
              name="option"
              class="peer hidden"
              value="6"
              [(ngModel)]="selectedAvatar"
            />
            <div
              class="p-4 rounded-xl bg-secondary peer-checked:border-primary peer-checked:bg-primary peer-checked:[&>svg]:fill-primary-content transition-all"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="w-15 h-15 fill-primary" viewBox="0 0 60 60" fill="none">
                <path d="M7.5 33.75L27.5 5.075V33.75H7.5ZM31.25 33.75C34.625 24.375 34.175 11.775 31.25 2.5C43.15 6.35 52.25 21 52.4 33.75H31.25ZM52.75 42.7C51.725 44.3 50.525 45.675 49.125 46.85C47.5 46.125 46.05 45 44.9 43.75C41.175 48.575 33.65 48.575 29.925 43.75C26.25 48.575 18.675 48.575 15 43.75C13.75 45 12.375 46.125 10.75 46.85C7.9 44.5 5.75 41.15 5 37.5H54.85C54.4616 39.3434 53.7507 41.1038 52.75 42.7ZM52.4 57.5C49.75 57.5 47.25 56.875 44.9 55.625C40.3 58.125 34.525 58.125 29.925 55.625C25.325 58.125 19.55 58.125 15 55.625C11.925 57.35 8.4 57.625 5 57.5V52.5C8.525 52.625 11.925 52.25 15 50C19.35 53.125 25.525 53.125 29.925 50C34.35 53.125 40.5 53.125 44.9 50C47.925 52.25 51.35 52.625 54.85 52.5V57.5H52.4Z"/>
              </svg>
            </div>
          </label>
        </div>
      </div>
      

      <!-- Botões -->
      <div class="px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 sm:justify-center sm:p-6 sm:pt-4 mt-3">
        <button (click)="next()" type="button" class="btn btn-accent inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl">Próximo</button>
        <!-- <button (click)="closeModal()" type="button" class="btn btn-sm btn-circle btn-ghost absolute right-0 top-0 sm:right-2 sm:top-2">✕</button> -->
      </div>
    </div>

    <div *ngIf="currentStep === 1"
      class="relative transform overflow-hidden rounded-xl bg-base-100 text-left shadow-xl transition-all duration-300 ease-out w-full min-w-70
      sm:max-w-lg flex flex-col justify-between items-center max-h-lg min-h-[30rem] h-130 px-7"
      [class.opacity-100]="modalOpen"
      [class.opacity-0]="!modalOpen"
      [class.translate-y-0]="modalOpen"
      [class.translate-y-4]="!modalOpen"
      [class.sm\\:scale-100]="modalOpen"
      [class.sm\\:scale-95]="!modalOpen">
      
      <!-- Conteúdo -->
      <div class="px-4 pt-5 pb-4 sm:p-6 sm:pb-0 flex justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 fill-primary" viewBox="0 0 24 24" fill="none"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97s-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1s.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64z"/></svg>
        <h2 class="text-lg sm:text-2xl">Configuração de Conversa</h2>
      </div>

      <div class="flex flex-col h-full justify-center space-y-5 mb-7">
        <fieldset class="fieldset">
          <legend class="fieldset-legend">Modelo de Linguagem</legend>
          <select class="select" [(ngModel)]="selectedModel">
            <option disabled selected value="none">Selecione um modelo de linguagem</option>
            <option value="gpt-4o">GPT</option>
            <option value="Gemini">Gemini</option>
            <option value="Llama">Llama</option>
          </select>
        </fieldset>

        <fieldset class="fieldset">
          <legend class="fieldset-legend">Chave de API do Modelo</legend>
          <input type="text" class="input" placeholder="Digite aqui..." [(ngModel)]="apiKey"/>
        </fieldset>

        <fieldset class="fieldset">
          <legend class="fieldset-legend">Engenharia de Prompt</legend>
          <select class="select" [(ngModel)]="selectedEngineering">
            <option disabled selected value="none">Selecione uma engenharia de prompt</option>
            <option value="one-shot">One shot</option>
            <option value="Enegenharia 2">Enegenharia 2</option>
            <option value="Enegenharia 3">Enegenharia 3</option>
          </select>
        </fieldset>
      </div>

      <!-- Botões -->
      <div class="px-4 pb-3 flex flex-row justify-center sm:px-6 sm:justify-between sm:p-6 sm:pt-4 mt-3 md:w-md flex-wrap">
        <button (click)="prev()" type="button" class="btn btn-accent inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl">Anterior</button>
        <button (click)="next()" type="button" class="btn btn-accent inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl mt-3 sm:mt-0">Próximo</button>
        <!-- <button (click)="closeModal()" type="button" class="btn btn-sm btn-circle btn-ghost absolute right-0 top-0 sm:right-2 sm:top-2">✕</button> -->
      </div>
    </div>

    <div *ngIf="currentStep === 2"
      class="relative transform overflow-hidden rounded-xl bg-base-100 text-left shadow-xl transition-all duration-300 ease-out w-full min-w-70
      sm:max-w-lg flex flex-col justify-between items-center max-h-lg min-h-[30rem] h-130 px-7"
      [class.opacity-100]="modalOpen"
      [class.opacity-0]="!modalOpen"
      [class.translate-y-0]="modalOpen"
      [class.translate-y-4]="!modalOpen"
      [class.sm\\:scale-100]="modalOpen"
      [class.sm\\:scale-95]="!modalOpen">
      
      <!-- Conteúdo -->
      <div class="px-4 pt-5 pb-4 sm:p-6 sm:pb-2 flex justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-1.5" viewBox="0 0 45 46" fill="none">
          <path d="M22.725 45.0213C22.0875 45.0213 21.5535 44.7864 21.123 44.3166C20.6925 43.8468 20.4765 43.2661 20.475 42.5745C20.475 42.289 20.5312 41.9929 20.6437 41.6863C20.7562 41.3796 20.925 41.1048 21.15 40.8617L31.5562 29.5452L29.925 27.7713L19.575 39.0878C19.35 39.3325 19.1062 39.516 18.8437 39.6383C18.5812 39.7606 18.3 39.8218 18 39.8218C17.3625 39.8218 16.8285 39.5877 16.398 39.1196C15.9675 38.6514 15.7515 38.0699 15.75 37.375C15.75 36.9672 15.8062 36.6304 15.9187 36.3645C16.0312 36.0986 16.1812 35.8645 16.3687 35.6622L26.775 24.3458L25.2 22.633L14.7937 33.8883C14.5687 34.133 14.325 34.3165 14.0625 34.4388C13.8 34.5612 13.5 34.6223 13.1625 34.6223C12.5625 34.6223 12.0375 34.3777 11.5875 33.8883C11.1375 33.3989 10.9125 32.828 10.9125 32.1755C10.9125 31.8493 10.9687 31.5434 11.0812 31.258C11.1937 30.9725 11.3625 30.7075 11.5875 30.4628L21.9937 19.1463L20.3625 17.4335L10.0125 28.75C9.825 28.9539 9.6 29.117 9.3375 29.2394C9.075 29.3617 8.75625 29.4229 8.38125 29.4229C7.74375 29.4229 7.209 29.188 6.777 28.7182C6.345 28.2484 6.12975 27.6677 6.13125 26.9761C6.13125 26.6498 6.1875 26.344 6.3 26.0585C6.4125 25.7731 6.58125 25.508 6.80625 25.2633L19.35 11.6224L27.7875 20.8591C28.2 21.3076 28.6875 21.6649 29.25 21.9308C29.8125 22.1966 30.375 22.3288 30.9375 22.3271C32.1375 22.3271 33.1875 21.8688 34.0875 20.952C34.9875 20.0353 35.4375 18.8625 35.4375 17.4335C35.4375 16.8626 35.3437 16.2713 35.1562 15.6596C34.9687 15.0479 34.6312 14.477 34.1437 13.9468L24.075 2.99736C24.7125 2.34487 25.425 1.84573 26.2125 1.49991C27 1.15409 27.7875 0.980371 28.575 0.978739C29.55 0.978739 30.45 1.15246 31.275 1.49991C32.1 1.84736 32.85 2.38729 33.525 3.1197L43.0312 13.5186C43.7062 14.2527 44.2035 15.0683 44.523 15.9654C44.8425 16.8626 45.0015 17.9025 45 19.0851C45 19.9007 44.8312 20.7269 44.4937 21.5637C44.1562 22.4005 43.6687 23.1648 43.0312 23.8564L24.3 44.2872C24 44.6135 23.7375 44.8174 23.5125 44.8989C23.2875 44.9805 23.025 45.0213 22.725 45.0213ZM3.43125 25.4468L1.96875 23.8564C1.33125 23.2039 0.84375 22.4291 0.50625 21.5319C0.16875 20.6348 0 19.6968 0 18.7181C0 17.6578 0.1875 16.6791 0.5625 15.7819C0.9375 14.8848 1.40625 14.1303 1.96875 13.5186L11.475 3.1197C12.075 2.46721 12.7875 1.94686 13.6125 1.55863C14.4375 1.17041 15.2437 0.977108 16.0312 0.978739C17.0437 0.978739 17.9437 1.13207 18.7312 1.43874C19.5187 1.74541 20.2875 2.30572 21.0375 3.1197L32.5687 15.6596C32.7937 15.9043 32.9625 16.1693 33.075 16.4548C33.1875 16.7403 33.2437 17.0461 33.2437 17.3724C33.2437 18.0248 33.0187 18.5958 32.5687 19.0851C32.1187 19.5745 31.5937 19.8192 30.9937 19.8192C30.6562 19.8192 30.375 19.7686 30.15 19.6675C29.925 19.5663 29.6812 19.3722 29.4187 19.0851L19.2937 8.19682L3.43125 25.4468Z" fill="#011826"/>
        </svg>
        <h2 class="text-lg sm:text-2xl">Apresentação</h2>
      </div>

      <div class="flex flex-col">
        <img src="/assets/img/test.png" class="rounded-2xl shadow-[0_10px_15px_-3px_rgba(0,0,0,0.1),_0_-10px_15px_-8px_rgba(0,0,0,0.1)] mb-4" alt="">
        <p class="text-justify">Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore voluptates non suscipit amet! Illum blanditiis dicta veniam, saepe quas vitae ipsum, distinctio eius dolore necessitatibus perspiciatis quo libero obcaecati nemo!</p>
      </div>
      

      <!-- Botões -->
      <div class="px-4 pb-3 flex flex-row justify-center sm:px-6 sm:justify-between sm:p-6 sm:pt-4 mt-3 md:w-md flex-wrap"
         [ngClass]="{'md:justify-center': modalAnswered}">
        <button *ngIf="!modalAnswered" (click)="prev()" type="button" class="btn btn-accent inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl">Anterior</button>
        <button (click)="next()" type="button" class="btn btn-accent inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl mt-3 sm:mt-0">Próximo</button>
        <button *ngIf="modalAnswered" (click)="closeModal()" type="button" class="btn btn-sm btn-circle btn-ghost absolute right-0 top-0 sm:right-2 sm:top-2">✕</button>
      </div>
    </div>

    <div *ngIf="currentStep === 3"
      class="relative transform overflow-hidden rounded-xl bg-base-100 text-left shadow-xl transition-all duration-300 ease-out w-full min-w-70
      sm:max-w-lg flex flex-col justify-between items-center max-h-lg min-h-[30rem] h-130 px-7"
      [class.opacity-100]="modalOpen"
      [class.opacity-0]="!modalOpen"
      [class.translate-y-0]="modalOpen"
      [class.translate-y-4]="!modalOpen"
      [class.sm\\:scale-100]="modalOpen"
      [class.sm\\:scale-95]="!modalOpen">
      
      <!-- Conteúdo -->
      <div class="px-4 pt-5 pb-4 sm:p-6 sm:pb-2 flex justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 fill-primary" viewBox="0 0 44 43" fill="none">
          <path d="M0 43V4.3C0 3.1175 0.4312 2.10557 1.2936 1.2642C2.156 0.422834 3.19147 0.00143333 4.4 0H39.6C40.81 0 41.8462 0.4214 42.7086 1.2642C43.571 2.107 44.0015 3.11893 44 4.3V30.1C44 31.2825 43.5695 32.2952 42.7086 33.138C41.8477 33.9808 40.8115 34.4014 39.6 34.4H8.8L0 43ZM8.8 25.8H26.4V21.5H8.8V25.8ZM8.8 19.35H35.2V15.05H8.8V19.35ZM8.8 12.9H35.2V8.6H8.8V12.9Z"/>
        </svg>

        <h2 class="text-lg sm:text-2xl">Conversa</h2>
      </div>

      <div class="flex flex-col">
        <img src="/assets/img/test.png" class="rounded-2xl shadow-[0_10px_15px_-3px_rgba(0,0,0,0.1),_0_-10px_15px_-8px_rgba(0,0,0,0.1)] mb-4" alt="">
        <p class="text-justify">Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore voluptates non suscipit amet! Illum blanditiis dicta veniam, saepe quas vitae ipsum, distinctio eius dolore necessitatibus perspiciatis quo libero obcaecati nemo!</p>
      </div>
      

      <!-- Botões -->
      <div class="px-4 pb-3 flex flex-row justify-center sm:px-6 sm:justify-between sm:p-6 sm:pt-4 mt-3 md:w-md flex-wrap">
        <button (click)="prev()" type="button" class="btn btn-accent inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl">Anterior</button>
        <button (click)="next()" type="button" class="btn btn-accent inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl mt-3 sm:mt-0">Próximo</button>
        <button *ngIf="modalAnswered" (click)="closeModal()" type="button" class="btn btn-sm btn-circle btn-ghost absolute right-0 top-0 sm:right-2 sm:top-2">✕</button>
      </div>
    </div>

    <div *ngIf="currentStep === 4"
      class="relative transform overflow-hidden rounded-xl bg-base-100 text-left shadow-xl transition-all duration-300 ease-out w-full min-w-70
      sm:max-w-lg flex flex-col justify-between items-center max-h-lg min-h-[30rem] h-130 px-7"
      [class.opacity-100]="modalOpen"
      [class.opacity-0]="!modalOpen"
      [class.translate-y-0]="modalOpen"
      [class.translate-y-4]="!modalOpen"
      [class.sm\\:scale-100]="modalOpen"
      [class.sm\\:scale-95]="!modalOpen">
      
      <!-- Conteúdo -->
      <div class="px-4 pt-5 pb-4 sm:p-6 sm:pb-2 flex justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 fill-primary" viewBox="0 0 44 43" fill="none">
          <path d="M13.2 34.4L22 27.8425L30.8 34.4L27.5 23.7575L36.3 17.63H25.52L22 6.45L18.48 17.63H7.7L16.5 23.7575L13.2 34.4ZM22 43C18.9567 43 16.0967 42.4353 13.42 41.3058C10.7433 40.1763 8.415 38.6448 6.435 36.7112C4.455 34.7777 2.88787 32.5023 1.7336 29.885C0.579336 27.2677 0.00146945 24.4727 2.78481e-06 21.5C-0.00146388 18.5273 0.576403 15.7323 1.7336 13.115C2.8908 10.4977 4.45793 8.22231 6.435 6.28875C8.41206 4.35518 10.7404 2.82367 13.42 1.6942C16.0996 0.564733 18.9596 0 22 0C25.0404 0 27.9004 0.564733 30.58 1.6942C33.2596 2.82367 35.5879 4.35518 37.565 6.28875C39.542 8.22231 41.1099 10.4977 42.2686 13.115C43.4272 15.7323 44.0044 18.5273 44 21.5C43.9956 24.4727 43.4177 27.2677 42.2664 29.885C41.115 32.5023 39.5479 34.7777 37.565 36.7112C35.582 38.6448 33.2537 40.177 30.58 41.3079C27.9063 42.4388 25.0463 43.0029 22 43Z" fill="#011826"/>
        </svg>

        <h2 class="text-lg sm:text-2xl">Resultados</h2>
      </div>

      <div class="flex flex-col">
        <img src="/assets/img/test.png" class="rounded-2xl shadow-[0_10px_15px_-3px_rgba(0,0,0,0.1),_0_-10px_15px_-8px_rgba(0,0,0,0.1)] mb-4" alt="">
        <p class="text-justify">Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore voluptates non suscipit amet! Illum blanditiis dicta veniam, saepe quas vitae ipsum, distinctio eius dolore necessitatibus perspiciatis quo libero obcaecati nemo!</p>
      </div>
      

      <!-- Botões -->
      <div class="px-4 pb-3 flex flex-row justify-center sm:px-6 sm:justify-between sm:p-6 sm:pt-4 mt-3 md:w-md flex-wrap">
        <button (click)="prev()" type="button" class="btn btn-accent inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl">Anterior</button>
        <button *ngIf="!modalAnswered" (click)="submitModal()" type="button" class="btn btn-primary inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl mt-3 sm:mt-0">Ok</button>
        <button *ngIf="modalAnswered" (click)="closeModal()" type="button" class="btn btn-primary inline-flex justify-center px-3 py-2 text-sm font-semibold shadow-xs w-40 rounded-4xl mt-3 sm:mt-0">Ok</button>
        <button *ngIf="modalAnswered" (click)="closeModal()" type="button" class="btn btn-sm btn-circle btn-ghost absolute right-0 top-0 sm:right-2 sm:top-2">✕</button>
      </div>
    </div>

  </div>
</div>


<!-- Alerta com transição -->
<div *ngFor="let alert of alerts; let i = index"
  role="alert"
  class="alert transition-opacity duration-500 ease-in-out opacity-0 animate-fade-in
    absolute top-2 right-2 z-10 w-xs"
  [class.alert-warning]="typeOfError == 1"
  [class.alert-error]="typeOfError == 2"
  [style.top.px]="20 + (i * 60)" >
  <svg *ngIf="typeOfError === 1" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
      d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
  </svg>
  <svg *ngIf="typeOfError === 2" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
  </svg>
  <span>{{ alert }}</span>
</div>
